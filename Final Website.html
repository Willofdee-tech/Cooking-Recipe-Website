<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlavorFusion Recipes</title>
    <style>
        /* Global Styles */
        :root {
            --primary: #ff6b6b;
            --secondary: #ffa502;
            --dark: #2f3542;
            --light: #f1f2f6;
            --success: #2ed573;
            --danger: #ff4757;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        /* Navigation */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo a {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 1.5rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }
        
        .nav-links a:hover, .nav-links a.active {
            color: var(--primary);
            background-color: rgba(255, 107, 107, 0.1);
        }
        
        .auth-buttons .btn {
            margin-left: 1rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
            border: 2px solid var(--primary);
        }
        
        .btn-primary:hover {
            background-color: #ff5252;
            border-color: #ff5252;
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }
        
        /* Page Container */
        .page-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 5%;
        }
        
        /* Section Styles */
        section {
            display: none;
            padding: 2rem 0;
        }
        
        section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 0;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }
        
        /* Recipe Cards */
        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .recipe-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .recipe-card:hover {
            transform: translateY(-10px);
        }
        
        .recipe-img {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }
        
        .recipe-content {
            padding: 1.5rem;
        }
        
        .recipe-content h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .recipe-content p {
            color: #666;
            margin-bottom: 1rem;
        }
        
        .recipe-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Recipe Detail */
        .recipe-detail {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .recipe-detail h2 {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .recipe-detail-img {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        
        .recipe-detail h3 {
            color: var(--dark);
            margin: 1.5rem 0 1rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        /* Forms */
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        .btn-submit {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .btn-submit:hover {
            background-color: #ff5252;
        }
        
        /* Alert Messages */
        .alert {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
            font-weight: 500;
        }
        
        .alert-success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        /* Login/Register Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .close-modal:hover {
            color: var(--dark);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #ddd;
        }
        
        .auth-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            margin-right: 1rem;
        }
        
        .auth-tab.active {
            border-bottom: 2px solid var(--primary);
            color: var(--primary);
            font-weight: 500;
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
            }
            
            .nav-links {
                margin-top: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-links li {
                margin: 0.5rem;
            }
            
            .auth-buttons {
                margin-top: 1rem;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav>
            <div class="logo">
                <a href="#" data-page="home">FlavorFusion</a>
            </div>
            <ul class="nav-links">
                <li><a href="#" data-page="home" class="active">Home</a></li>
                <li><a href="#" data-page="recipes">Recipes</a></li>
                <li><a href="#" data-page="share">Share Recipe</a></li>
                <li><a href="#" data-page="discover">Discover</a></li>
                <li><a href="#" data-page="feedback">Feedback</a></li>
            </ul>
            <div class="auth-buttons">
                <button class="btn btn-outline" id="loginBtn">Login</button>
                <button class="btn btn-primary" id="registerBtn">Register</button>
            </div>
        </nav>
    </header>

    <!-- Login/Register Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="register">Register</div>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn-submit">Login</button>
            </form>
            
            <form id="registerForm" class="auth-form">
                <div class="form-group">
                    <label for="registerName">Name</label>
                    <input type="text" id="registerName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">Confirm Password</label>
                    <input type="password" id="registerConfirmPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn-submit">Register</button>
            </form>
        </div>
    </div>

    <!-- Page Sections -->
    <div class="page-container">
        <!-- Home Section -->
        <section id="home" class="active">
            <div class="hero">
                <h1>Welcome to FlavorFusion</h1>
                <p>Discover delicious recipes from around the world. Save your favorites, share your own creations, and transform your cooking experience.</p>
                <a href="#" data-page="recipes" class="btn btn-primary">Browse Recipes</a>
            </div>
            
            <div class="featured-recipes">
                <h2>Featured Recipes</h2>
                <div class="recipe-grid">
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1558961363-fa8fdf82db35" alt="Chocolate Chip Cookies" class="recipe-img">
                        <div class="recipe-content">
                            <h3>Chocolate Chip Cookies</h3>
                            <p>Classic homemade cookies with melty chocolate chips.</p>
                            <div class="recipe-meta">
                                <span><i class="fas fa-clock"></i> 25 mins</span>
                                <span><i class="fas fa-utensils"></i> 24 cookies</span>
                            </div>
                            <a href="#" data-page="recipes" data-recipe="1" class="btn btn-outline" style="margin-top: 1rem; display: inline-block;">View Recipe</a>
                        </div>
                    </div>
                    
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1561758033-7e924f619b47" alt="BLT Sandwich" class="recipe-img">
                        <div class="recipe-content">
                            <h3>BLT Sandwich</h3>
                            <p>The classic bacon, lettuce, and tomato sandwich.</p>
                            <div class="recipe-meta">
                                <span><i class="fas fa-clock"></i> 10 mins</span>
                                <span><i class="fas fa-utensils"></i> 1 serving</span>
                            </div>
                            <a href="#" data-page="recipes" data-recipe="2" class="btn btn-outline" style="margin-top: 1rem; display: inline-block;">View Recipe</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recipes Section -->
        <section id="recipes">
            <h1>Our Recipe Collection</h1>
            <div class="recipe-grid" id="recipeGrid">
                <!-- Recipes will be loaded here via JavaScript -->
            </div>
            
            <div id="recipeDetail" style="display: none;">
                <button class="btn btn-outline" onclick="showRecipeList()" style="margin-bottom: 1rem;">
                    <i class="fas fa-arrow-left"></i> Back to Recipes
                </button>
                <div class="recipe-detail" id="recipeDetailContent">
                    <!-- Recipe detail will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Share Recipe Section -->
        <section id="share">
            <h1>Share Your Recipe</h1>
            <div class="form-container">
                <form id="recipeForm">
                    <div class="form-group">
                        <label for="recipeName">Recipe Name</label>
                        <input type="text" id="recipeName" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeImage">Image URL</label>
                        <input type="url" id="recipeImage" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeDescription">Description</label>
                        <textarea id="recipeDescription" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Ingredients (one per line)</label>
                        <textarea id="recipeIngredients" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Instructions (one step per line)</label>
                        <textarea id="recipeInstructions" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipePrepTime">Prep Time (minutes)</label>
                        <input type="number" id="recipePrepTime" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeCookTime">Cook Time (minutes)</label>
                        <input type="number" id="recipeCookTime" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeServings">Servings</label>
                        <input type="number" id="recipeServings" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeDifficulty">Difficulty</label>
                        <select id="recipeDifficulty" class="form-control" required>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipeCategory">Category</label>
                        <select id="recipeCategory" class="form-control" required>
                            <option value="Breakfast">Breakfast</option>
                            <option value="Lunch">Lunch</option>
                            <option value="Dinner">Dinner</option>
                            <option value="Dessert">Dessert</option>
                            <option value="Snack">Snack</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn-submit">Submit Recipe</button>
                </form>
            </div>
        </section>

        <!-- Discover Section -->
        <section id="discover">
            <h1>Discover New Recipes</h1>
            <div class="form-container">
                <div class="form-group">
                    <label for="searchRecipes">Search Recipes</label>
                    <input type="text" id="searchRecipes" class="form-control" placeholder="Search by name, ingredient...">
                </div>
                
                <div class="form-group">
                    <label>Filter by Category</label>
                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                        <button class="btn btn-outline filter-btn" data-category="all">All</button>
                        <button class="btn btn-outline filter-btn" data-category="Breakfast">Breakfast</button>
                        <button class="btn btn-outline filter-btn" data-category="Lunch">Lunch</button>
                        <button class="btn btn-outline filter-btn" data-category="Dinner">Dinner</button>
                        <button class="btn btn-outline filter-btn" data-category="Dessert">Dessert</button>
                        <button class="btn btn-outline filter-btn" data-category="Snack">Snack</button>
                    </div>
                </div>
            </div>
            
            <div class="recipe-grid" id="discoverGrid">
                <!-- Filtered recipes will appear here -->
            </div>
        </section>

        <!-- Feedback Section -->
        <section id="feedback">
            <h1>Feedback & Contact</h1>
            <div class="form-container">
                <form id="feedbackForm">
                    <div class="form-group">
                        <label for="feedbackName">Your Name</label>
                        <input type="text" id="feedbackName" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="feedbackEmail">Your Email</label>
                        <input type="email" id="feedbackEmail" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="feedbackMessage">Your Message</label>
                        <textarea id="feedbackMessage" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="feedbackRating">Rating (1-5)</label>
                        <select id="feedbackRating" class="form-control" required>
                            <option value="5">5 - Excellent</option>
                            <option value="4">4 - Very Good</option>
                            <option value="3">3 - Good</option>
                            <option value="2">2 - Fair</option>
                            <option value="1">1 - Poor</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn-submit">Send Feedback</button>
                </form>
                
                <div style="margin-top: 2rem;">
                    <h3>Contact Information</h3>
                    <p><i class="fas fa-envelope"></i> Email: contact@flavorfusion.com</p>
                    <p><i class="fas fa-phone"></i> Phone: (123) 456-7890</p>
                    <p><i class="fas fa-map-marker-alt"></i> Address: 123 Recipe Street, Foodville</p>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Database simulation (in a real app, this would be a real database)
        const database = {
            users: [
                {
                    id: 1,
                    name: "Admin User",
                    email: "admin@example.com",
                    password: "password123" // In real app, passwords would be hashed
                }
            ],
            recipes: [
                {
                    id: 1,
                    name: "Chocolate Chip Cookies",
                    image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35",
                    description: "Classic homemade cookies with melty chocolate chips.",
                    ingredients: [
                        "2 1/4 cups all-purpose flour",
                        "1 tsp baking soda",
                        "1 tsp salt",
                        "1 cup (2 sticks) butter, softened",
                        "3/4 cup granulated sugar",
                        "3/4 cup packed brown sugar",
                        "1 tsp vanilla extract",
                        "2 large eggs",
                        "2 cups (12-oz. pkg.) semi-sweet chocolate chips"
                    ],
                    instructions: [
                        "Preheat oven to 375°F.",
                        "Combine flour, baking soda and salt in small bowl.",
                        "Beat butter, granulated sugar, brown sugar and vanilla extract in large mixer bowl until creamy.",
                        "Add eggs one at a time, beating well after each addition.",
                        "Gradually beat in flour mixture.",
                        "Stir in chocolate chips.",
                        "Drop by rounded tablespoon onto ungreased baking sheets.",
                        "Bake for 9 to 11 minutes or until golden brown.",
                        "Cool on baking sheets for 2 minutes; remove to wire racks to cool completely."
                    ],
                    prepTime: 15,
                    cookTime: 10,
                    servings: 24,
                    difficulty: "Easy",
                    category: "Dessert",
                    authorId: 1
                },
                {
                    id: 2,
                    name: "BLT Sandwich",
                    image: "https://images.unsplash.com/photo-1561758033-7e924f619b47",
                    description: "The classic bacon, lettuce, and tomato sandwich.",
                    ingredients: [
                        "2 slices bread (white or whole wheat)",
                        "3-4 strips bacon, cooked",
                        "2-3 leaves lettuce",
                        "2-3 slices tomato",
                        "Mayonnaise to taste",
                        "Salt and pepper to taste"
                    ],
                    instructions: [
                        "Toast the bread if desired.",
                        "Spread mayonnaise on one side of each bread slice.",
                        "Layer lettuce, tomato slices, and bacon on one slice of bread.",
                        "Season with salt and pepper.",
                        "Top with the second slice of bread.",
                        "Cut in half and serve immediately."
                    ],
                    prepTime: 5,
                    cookTime: 5,
                    servings: 1,
                    difficulty: "Easy",
                    category: "Lunch",
                    authorId: 1
                },
                {
                    id: 3,
                    name: "Peanut Butter and Jelly Sandwich",
                    image: "https://images.unsplash.com/photo-1603048719539-8fe144e9f718",
                    description: "The classic childhood favorite.",
                    ingredients: [
                        "2 slices bread (white or whole wheat)",
                        "2 tbsp peanut butter",
                        "2 tbsp jelly or jam (grape or strawberry work well)"
                    ],
                    instructions: [
                        "Spread peanut butter on one slice of bread.",
                        "Spread jelly on the other slice of bread.",
                        "Press the two slices together with the spreads facing inward.",
                        "Cut in half if desired and serve."
                    ],
                    prepTime: 5,
                    cookTime: 0,
                    servings: 1,
                    difficulty: "Easy",
                    category: "Snack",
                    authorId: 1
                },
                {
                    id: 4,
                    name: "Simple Tomato Pasta",
                    image: "https://images.unsplash.com/photo-1555949258-eb67b1ef0ceb",
                    description: "Quick and easy pasta with tomato sauce.",
                    ingredients: [
                        "8 oz pasta (spaghetti or penne)",
                        "2 tbsp olive oil",
                        "2 cloves garlic, minced",
                        "1 can (14 oz) crushed tomatoes",
                        "1/2 tsp salt",
                        "1/4 tsp black pepper",
                        "1/4 tsp red pepper flakes (optional)",
                        "Fresh basil leaves for garnish",
                        "Parmesan cheese for serving"
                    ],
                    instructions: [
                        "Cook pasta according to package directions until al dente. Drain and set aside.",
                        "While pasta cooks, heat olive oil in a large skillet over medium heat.",
                        "Add minced garlic and sauté for 30 seconds until fragrant.",
                        "Add crushed tomatoes, salt, black pepper, and red pepper flakes if using.",
                        "Simmer for 10 minutes, stirring occasionally.",
                        "Add cooked pasta to the skillet and toss to coat with the sauce.",
                        "Serve garnished with fresh basil and grated Parmesan cheese."
                    ],
                    prepTime: 10,
                    cookTime: 15,
                    servings: 2,
                    difficulty: "Easy",
                    category: "Dinner",
                    authorId: 1
                }
            ],
            feedback: []
        };

        // Current user state
        let currentUser = null;

        // DOM Elements
        const authModal = document.getElementById('authModal');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const closeModal = document.getElementById('closeModal');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');
        const navLinks = document.querySelectorAll('.nav-links a');
        const sections = document.querySelectorAll('section');
        const recipeForm = document.getElementById('recipeForm');
        const feedbackForm = document.getElementById('feedbackForm');
        const recipeGrid = document.getElementById('recipeGrid');
        const recipeDetail = document.getElementById('recipeDetail');
        const recipeDetailContent = document.getElementById('recipeDetailContent');
        const discoverGrid = document.getElementById('discoverGrid');
        const searchInput = document.getElementById('searchRecipes');
        const filterButtons = document.querySelectorAll('.filter-btn');

        // Event Listeners
        loginBtn.addEventListener('click', () => {
            authModal.classList.add('active');
            switchAuthTab('login');
        });

        registerBtn.addEventListener('click', () => {
            authModal.classList.add('active');
            switchAuthTab('register');
        });

        closeModal.addEventListener('click', () => {
            authModal.classList.remove('active');
        });

        authTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                switchAuthTab(tab.dataset.tab);
            });
        });

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showPage(link.dataset.page);
                
                // Update active nav link
                navLinks.forEach(navLink => navLink.classList.remove('active'));
                link.classList.add('active');
            });
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Validate login
            const user = database.users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                authModal.classList.remove('active');
                alert('Login successful!');
                updateAuthButtons();
            } else {
                alert('Invalid email or password');
            }
        });

        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            // Validate registration
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (database.users.some(u => u.email === email)) {
                alert('Email already registered');
                return;
            }
            
            // Create new user
            const newUser = {
                id: database.users.length + 1,
                name,
                email,
                password
            };
            
            database.users.push(newUser);
            currentUser = newUser;
            authModal.classList.remove('active');
            alert('Registration successful! You are now logged in.');
            updateAuthButtons();
        });

        recipeForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            if (!currentUser) {
                alert('Please login to share a recipe');
                authModal.classList.add('active');
                return;
            }
            
            // Create new recipe
            const newRecipe = {
                id: database.recipes.length + 1,
                name: document.getElementById('recipeName').value,
                image: document.getElementById('recipeImage').value,
                description: document.getElementById('recipeDescription').value,
                ingredients: document.getElementById('recipeIngredients').value.split('\n').filter(line => line.trim()),
                instructions: document.getElementById('recipeInstructions').value.split('\n').filter(line => line.trim()),
                prepTime: parseInt(document.getElementById('recipePrepTime').value),
                cookTime: parseInt(document.getElementById('recipeCookTime').value),
                servings: parseInt(document.getElementById('recipeServings').value),
                difficulty: document.getElementById('recipeDifficulty').value,
                category: document.getElementById('recipeCategory').value,
                authorId: currentUser.id
            };
            
            database.recipes.push(newRecipe);
            alert('Recipe submitted successfully!');
            recipeForm.reset();
            
            // Update recipe displays
            loadRecipes();
            loadDiscoverRecipes();
        });

        feedbackForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const newFeedback = {
                name: document.getElementById('feedbackName').value,
                email: document.getElementById('feedbackEmail').value,
                message: document.getElementById('feedbackMessage').value,
                rating: document.getElementById('feedbackRating').value,
                date: new Date().toISOString()
            };
            
            database.feedback.push(newFeedback);
            alert('Thank you for your feedback!');
            feedbackForm.reset();
        });

        searchInput.addEventListener('input', () => {
            loadDiscoverRecipes();
        });

        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                loadDiscoverRecipes();
            });
        });

        // Functions
        function switchAuthTab(tab) {
            authTabs.forEach(t => t.classList.remove('active'));
            authForms.forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.auth-tab[data-tab="${tab}"]`).classList.add('active');
            document.getElementById(`${tab}Form`).classList.add('active');
        }

        function showPage(pageId) {
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // Load content for specific pages
            if (pageId === 'recipes') {
                loadRecipes();
                showRecipeList();
            } else if (pageId === 'discover') {
                loadDiscoverRecipes();
            }
        }

        function updateAuthButtons() {
            if (currentUser) {
                document.querySelector('.auth-buttons').innerHTML = `
                    <span style="margin-right: 1rem;">Hi, ${currentUser.name}</span>
                    <button class="btn btn-outline" id="logoutBtn">Logout</button>
                `;
                document.getElementById('logoutBtn').addEventListener('click', logout);
            } else {
                document.querySelector('.auth-buttons').innerHTML = `
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="registerBtn">Register</button>
                `;
                
                // Reattach event listeners
                document.getElementById('loginBtn').addEventListener('click', () => {
                    authModal.classList.add('active');
                    switchAuthTab('login');
                });
                document.getElementById('registerBtn').addEventListener('click', () => {
                    authModal.classList.add('active');
                    switchAuthTab('register');
                });
            }
        }

        function logout() {
            currentUser = null;
            updateAuthButtons();
            alert('You have been logged out');
        }

        function loadRecipes() {
            recipeGrid.innerHTML = '';
            
            database.recipes.forEach(recipe => {
                const author = database.users.find(u => u.id === recipe.authorId);
                const authorName = author ? author.name : 'Unknown';
                
                const card = document.createElement('div');
                card.className = 'recipe-card';
                card.innerHTML = `
                    <img src="${recipe.image}" alt="${recipe.name}" class="recipe-img">
                    <div class="recipe-content">
                        <h3>${recipe.name}</h3>
                        <p>${recipe.description}</p>
                        <div class="recipe-meta">
                            <span><i class="fas fa-clock"></i> ${recipe.prepTime + recipe.cookTime} mins</span>
                            <span><i class="fas fa-utensils"></i> ${recipe.servings} ${recipe.servings === 1 ? 'serving' : 'servings'}</span>
                        </div>
                        <button class="btn btn-outline" onclick="showRecipeDetail(${recipe.id})" style="margin-top: 1rem; width: 100%;">
                            View Recipe
                        </button>
                    </div>
                `;
                recipeGrid.appendChild(card);
            });
        }

        function showRecipeDetail(recipeId) {
            const recipe = database.recipes.find(r => r.id === recipeId);
            const author = database.users.find(u => u.id === recipe.authorId);
            const authorName = author ? author.name : 'Unknown';
            
            recipeDetailContent.innerHTML = `
                <img src="${recipe.image}" alt="${recipe.name}" class="recipe-detail-img">
                <h2>${recipe.name}</h2>
                <p>${recipe.description}</p>
                
                <div style="display: flex; gap: 2rem; margin: 1.5rem 0;">
                    <div><strong>Prep Time:</strong> ${recipe.prepTime} mins</div>
                    <div><strong>Cook Time:</strong> ${recipe.cookTime} mins</div>
                    <div><strong>Servings:</strong> ${recipe.servings}</div>
                    <div><strong
