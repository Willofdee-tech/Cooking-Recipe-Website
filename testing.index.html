<script>
  const recipes = [
    {
      title: "Chocolate Chip Cookies",
      description: "Classic chewy cookies packed with chocolate chips.",
      image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35",
      instructions: "1. Preheat oven to 350°F.\n2. Mix flour, baking soda, salt.\n3. Cream butter and sugar.\n4. Add eggs, vanilla.\n5. Mix with dry ingredients.\n6. Fold in chocolate chips.\n7. Scoop onto tray and bake 10-12 minutes."
    },
    {
      title: "BLT Sandwich",
      description: "Bacon, lettuce, tomato, and mayo on toasted bread.",
      image: "https://images.unsplash.com/photo-1561758033-7e924f619b47",
      instructions: "1. Toast bread slices.\n2. Cook bacon until crispy.\n3. Layer bacon, lettuce, tomato on toast.\n4. Spread mayo and top with another slice."
    },
    {
      title: "Peanut Butter & Jelly",
      description: "Timeless combo of PB&J on soft bread.",
      image: "https://images.unsplash.com/photo-1603048719539-8fe144e9f718",
      instructions: "1. Spread peanut butter on one slice of bread.\n2. Spread jelly on the other.\n3. Put slices together and enjoy!"
    },
    {
      title: "Tomato Pasta",
      description: "Simple pasta with tomato sauce and herbs.",
      image: "https://images.unsplash.com/photo-1555949258-eb67b1ef0ceb",
      instructions: "1. Boil pasta until al dente.\n2. Sauté garlic and onion.\n3. Add tomato sauce, basil, salt.\n4. Simmer and mix with pasta."
    },
    {
      title: "Avocado Toast",
      description: "Healthy toast with smashed avocado and egg.",
      image: "https://via.placeholder.com/300x150",
      instructions: "1. Toast bread.\n2. Mash avocado with lemon and salt.\n3. Spread on toast.\n4. Top with poached or fried egg."
    }
  ];

  function displayRecipes(filter = "") {
    const list = document.getElementById("recipeList");
    list.innerHTML = "";
    const filtered = recipes.filter(r => r.title.toLowerCase().includes(filter.toLowerCase()));
    filtered.forEach(recipe => {
      const card = document.createElement("div");
      card.className = "recipe-card";
      card.innerHTML = `
        <img src="${recipe.image}" alt="${recipe.title}">
        <div class="recipe-content">
          <h3 class="recipe-title">${recipe.title}</h3>
          <p>${recipe.description}</p>
          <button onclick="showModal('${recipe.title}', \`${recipe.instructions}\`)">View Recipe</button>
        </div>
      `;
      list.appendChild(card);
    });
  }

  function searchRecipes() {
    const query = document.getElementById("searchInput").value;
    displayRecipes(query);
  }

  function showModal(title, instructions) {
    document.getElementById("modalTitle").textContent = title;
    document.getElementById("modalInstructions").textContent = instructions;
    document.getElementById("recipeModal").classList.remove("hidden");
  }

  function closeModal() {
    document.getElementById("recipeModal").classList.add("hidden");
  }

  document.getElementById("guestBtn").addEventListener("click", () => {
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("searchSection").classList.remove("hidden");
    document.getElementById("recipeList").classList.remove("hidden");
    displayRecipes(); // show all by default
  });

  // Optional: handle login form (just hides login for now)
  document.getElementById("loginForm").addEventListener("submit", (e) => {
    e.preventDefault();
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("searchSection").classList.remove("hidden");
    document.getElementById("recipeList").classList.remove("hidden");
    displayRecipes(); // show all by default
  });
</script>
